/*
 * Test profile - nf-core style test configuration
 * Runs with minimal test data without requiring local files
 */

// Include standard profile as base
includeConfig 'standard.config'

// Override with test parameters
params {
    // Test input data from repository
    input = "https://github.com/hirotaka-i/long-gwas-pipeline/raw/main/example/genotype/chr*.vcf"
    phenofile = "https://github.com/hirotaka-i/long-gwas-pipeline/raw/main/example/phenotype.cs.tsv"
    covarfile = "https://github.com/hirotaka-i/long-gwas-pipeline/raw/main/example/covariates.tsv"
    
    // Test-specific settings
    dataset = "TEST_CHR20_22"
    phenotype_name = "y"
    covariates = "SEX age_at_baseline"
    
    // Analysis type
    linear_flag = true
    longitudinal_flag = false
    survival_flag = false
    
    // Genome settings
    assembly = "hg19"
    ancestry = "EUR"
    
    // QC thresholds
    r2thres = -9
    minor_allele_freq = "0.05"
    kinship = "0.177"
    
    // Processing
    chunksize = 30000
    
    // Skip population split for test (faster)
    skip_pop_split = false
}

// Reduce resources for testing
process {
    withLabel: small {
        cpus = 1
        memory = '4 GB'
    }
    
    withLabel: medium {
        cpus = 2
        memory = '8 GB'
    }
    
    withLabel: large_mem {
        cpus = 2
        memory = '8 GB'
    }
}
